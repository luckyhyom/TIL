### Custom Provider

생성자에 주입할 객체를 커스텀하여 만든다.

- useValue
  - 단순 데이터를 주입 (string, number, 등..)
- useClass
  - 존재하는 서비스 클래스를 동적으로 선택 (클래스만)
- useFactory
  - 값이나 클래스 동적으로 생성하여 주입
  - useClass처럼 이미 존재하는 클래스를 선택도 가능 (값도 가능)

controller 소비자
provider 공급자
기본적으로 모듈은 공급자를 캡슐화하므로 export하지 않은 공급자는 사용할수없다.

### 미들웨어

데코레이터가 아닌 클래스 안에서 configure 모듈을 이용해 사용한다.

### pipe and filter pattern

하나의 미들웨어에서 인풋 데이터에 대한 여러가지 처리를 하지 않고
각각의 역할을 가진 파이프를 거치도록 만든다.
그럼 역할별로 코드가 나누어지므로 분리, 결합, 즉 유지보수에 유리해진다.
pipe = 유효성 검사, 데이터 가공, 등 각각의 역할을 가진 미들웨어들

A -> B -> C -> D

```
@Get(':id')
async function controller(@Param('id', ParseIntPipe, PositivePipe) id: string) {

}
```

### 인터셉터

(무언가를 볼때 목적을 설정해야한다.)
-> 인터셉터와 미들웨어, 파이프의 차이는?

인터셉터: 컨트롤러의 전/후 에서 처리가 가능하다.
Exception은 에러이므로 제외하고, 서비스 로직 이후 (응답하기 직전) 거칠수 있는 것 단 하나가 인터셉터이다. 그러므로 응답 전 데이터를 공통적으로 가공할때 쓰이기도 한다.

common 모든 곳에서 공통적으로 사용할 수 있는 것을 모아둔 폴더
